# api_final_yatube
## API для соц. сети авторов статей

##### Автор: Павел Кошелев 


## Технологии:

- Python and Django
- Rest Framework
- JWTAuthentication and djoser

## Установка
- Клонируйте репозиторий
- Создайте и активируйте виртуальное окружение
- Установите все необходимые пакеты из requirements.txt.
- Примените миграции

## Документация
Когда вы запустите проект, по адресу /redoc/ будет доступна документация для API Yatube. 
В документации описано, как должен работать ваш API. 
Документация представлена в формате Redoc.


## Примеры запросов и ответов к API:
| Ресурс | Тип | Путь | Передаваемые данные (JSON) |
| ------ | ------ | ------ | ------ |
| Получить API токен | POST | /api/v1/jwt/create/ | {"username":"","password":""}

#### Ответ:
```
{
    "refresh": "eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",
    "access": "eyeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee"
}
```

| Ресурс | Тип | Путь |
| ------ | ------ | ------ | 
| Получить Список постов | GET | /api/v1/posts/ |

#### Ответ:
```
[
    {
        "id": 1,
        "text": "Вечером собрались в редакции «Русской мысли», чтобы поговорить о народном театре. Проект Шехтеля всем нравится.",
        "pub_date": "2022-04-21T11:22:03.167305Z",
        "author": "test",
        "image": null,
        "group": 1
    }
]
```

| Ресурс | Тип | Путь | Передаваемые данные (JSON) |
| ------ | ------ | ------ | ------ |
| Добавить пост | POST | /api/v1/posts/ | {"text": "","group": ""} 

#### Ответ:
```
{
    "id": 14,
    "text": "Вечером собрались в редакции «Русской мысли», чтобы поговорить о народном театре. Проект Шехтеля всем нравится.",
    "author": "anton",
    "image": null,
    "group": 1,
    "pub_date": "2021-06-01T08:47:11.084589Z"
} 
```
http://localhost:8000/api/v1/follow/


## Эндпоинты
| Путь | Тип | Описание |
| ------ | ------ | ------ |
| api/v1/jwt/create/ | (POST) | передаём логин и пароль, получаем refresh, access токен |
| api/v1/jwt/refresh/ | (POST) | передаём refresh токен, получаем access токен |
| api/v1/jwt/verify/ | (POST) | передаём access токен, для валидации |
| api/v1/posts/ | (GET, POST) | получаем список всех постов или создаём новый пост |
| api/v1/posts/{post_id}/ | (GET, PUT, PATCH, DELETE) | получаем, редактируем или удаляем пост по id |
| api/v1/groups/ | (GET) | получаем список всех групп |
| api/v1/groups/{group_id}/ | (GET) | получаем информацию о группе по id |
| api/v1/posts/{post_id}/comments/ | (GET, POST) | получаем список всех комментариев поста с id=post_id или создаём новый, указав id поста, который хотим прокомментировать |
| api/v1/posts/{post_id}/comments/{comment_id}/ | (GET, PUT, PATCH, DELETE) | получаем, редактируем или удаляем комментарий по id у поста с id=post_id |
| api/v1/follow/ | (GET) | возвращает все подписки пользователя, сделавшего запрос |
| api/v1/follow/ | (POST) | подписка пользователя от имени которого сделан запрос на пользователя переданного в теле запроса |


**Созданно при поддержке Яндекс.Практикум**